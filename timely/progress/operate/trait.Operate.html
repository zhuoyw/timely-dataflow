<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Operate` trait in crate `timely`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Operate">

    <title>timely::progress::operate::Operate - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../../main.css">
    

    
    
</head>
<body class="rustdoc trait">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'>Trait Operate</p><div class="block items"><ul><li><a href="#required-methods">Required Methods</a></li><li><a href="#provided-methods">Provided Methods</a></li><li><a href="#implementors">Implementors</a></li></ul></div><p class='location'><a href='../../index.html'>timely</a>::<wbr><a href='../index.html'>progress</a>::<wbr><a href='index.html'>operate</a></p><script>window.sidebarCurrent = {name: 'Operate', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Trait <a href='../../index.html'>timely</a>::<wbr><a href='../index.html'>progress</a>::<wbr><a href='index.html'>operate</a>::<wbr><a class="trait" href=''>Operate</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../../src/timely/progress/operate.rs.html#9-101' title='goto source code'>[src]</a></span></h1>
<pre class='rust trait'>pub trait Operate&lt;T:&nbsp;<a class="trait" href="../../../timely/progress/timestamp/trait.Timestamp.html" title="trait timely::progress::timestamp::Timestamp">Timestamp</a>&gt; {
    fn <a href='#tymethod.inputs' class='fnname'>inputs</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>;
<div class='item-spacer'></div>    fn <a href='#tymethod.outputs' class='fnname'>outputs</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>;
<div class='item-spacer'></div>    fn <a href='#tymethod.pull_internal_progress' class='fnname'>pull_internal_progress</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consumed: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;mut [</a><a class="struct" href="../../../timely/progress/change_batch/struct.ChangeBatch.html" title="struct timely::progress::change_batch::ChangeBatch">ChangeBatch</a>&lt;T&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;mut [</a><a class="struct" href="../../../timely/progress/change_batch/struct.ChangeBatch.html" title="struct timely::progress::change_batch::ChangeBatch">ChangeBatch</a>&lt;T&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;produced: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;mut [</a><a class="struct" href="../../../timely/progress/change_batch/struct.ChangeBatch.html" title="struct timely::progress::change_batch::ChangeBatch">ChangeBatch</a>&lt;T&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>;
<div class='item-spacer'></div>    fn <a href='#tymethod.name' class='fnname'>name</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>;

    fn <a href='#method.local' class='fnname'>local</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a> { ... }
<div class='item-spacer'></div>    fn <a href='#method.get_internal_summary' class='fnname'>get_internal_summary</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../timely/progress/frontier/struct.Antichain.html" title="struct timely::progress::frontier::Antichain">Antichain</a>&lt;T::<a class="type" href="../../../timely/progress/timestamp/trait.Timestamp.html#associatedtype.Summary" title="type timely::progress::timestamp::Timestamp::Summary">Summary</a>&gt;&gt;&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../timely/progress/change_batch/struct.ChangeBatch.html" title="struct timely::progress::change_batch::ChangeBatch">ChangeBatch</a>&lt;T&gt;&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a> { ... }
<div class='item-spacer'></div>    fn <a href='#method.set_external_summary' class='fnname'>set_external_summary</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_summaries: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../timely/progress/frontier/struct.Antichain.html" title="struct timely::progress::frontier::Antichain">Antichain</a>&lt;T::<a class="type" href="../../../timely/progress/timestamp/trait.Timestamp.html#associatedtype.Summary" title="type timely::progress::timestamp::Timestamp::Summary">Summary</a>&gt;&gt;&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_frontier: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;mut [</a><a class="struct" href="../../../timely/progress/change_batch/struct.ChangeBatch.html" title="struct timely::progress::change_batch::ChangeBatch">ChangeBatch</a>&lt;T&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) { ... }
<div class='item-spacer'></div>    fn <a href='#method.push_external_progress' class='fnname'>push_external_progress</a>(&amp;mut self, external: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;mut [</a><a class="struct" href="../../../timely/progress/change_batch/struct.ChangeBatch.html" title="struct timely::progress::change_batch::ChangeBatch">ChangeBatch</a>&lt;T&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>) { ... }
<div class='item-spacer'></div>    fn <a href='#method.notify_me' class='fnname'>notify_me</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a> { ... }
}</pre><div class='docblock'><p>Methods for describing an operators topology, and the progress it makes.</p>
</div>
            <h2 id='required-methods' class='small-section-header'>
              Required Methods<a href='#required-methods' class='anchor'></a>
            </h2>
            <div class='methods'>
        <h3 id='tymethod.inputs' class='method'><span id='inputs.v' class='invisible'><code>fn <a href='#tymethod.inputs' class='fnname'>inputs</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></code></span></h3><div class='docblock'><p>The number of inputs.</p>
</div><h3 id='tymethod.outputs' class='method'><span id='outputs.v' class='invisible'><code>fn <a href='#tymethod.outputs' class='fnname'>outputs</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></code></span></h3><div class='docblock'><p>The number of outputs.</p>
</div><h3 id='tymethod.pull_internal_progress' class='method'><span id='pull_internal_progress.v' class='invisible'><code>fn <a href='#tymethod.pull_internal_progress' class='fnname'>pull_internal_progress</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;consumed: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;mut [</a><a class="struct" href="../../../timely/progress/change_batch/struct.ChangeBatch.html" title="struct timely::progress::change_batch::ChangeBatch">ChangeBatch</a>&lt;T&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;internal: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;mut [</a><a class="struct" href="../../../timely/progress/change_batch/struct.ChangeBatch.html" title="struct timely::progress::change_batch::ChangeBatch">ChangeBatch</a>&lt;T&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;produced: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;mut [</a><a class="struct" href="../../../timely/progress/change_batch/struct.ChangeBatch.html" title="struct timely::progress::change_batch::ChangeBatch">ChangeBatch</a>&lt;T&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a><br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span></h3><div class='docblock'><p>Retrieves a summary of progress statements internal to the operator.</p>

<p>Returns a bool indicating if there is any unreported work remaining (e.g. work that doesn&#39;t
project on an output).</p>

<p>Note: not &quot;internal to the operator and its peer group&quot;. The operator instance should only
report progress performed by its own instance. The parent scope will figure out what to do
with this information (mostly likely exchange it with its peers). There does seem to be the
opportunity to optimize this, but it may complicate the life of the parent to know which of
its children are reporting partial information and which are complete.</p>
</div><h3 id='tymethod.name' class='method'><span id='name.v' class='invisible'><code>fn <a href='#tymethod.name' class='fnname'>name</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></code></span></h3><div class='docblock'><p>A descripitive name for the operator</p>
</div></div>
            <h2 id='provided-methods' class='small-section-header'>
              Provided Methods<a href='#provided-methods' class='anchor'></a>
            </h2>
            <div class='methods'>
        <h3 id='method.local' class='method'><span id='local.v' class='invisible'><code>fn <a href='#method.local' class='fnname'>local</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span></h3><div class='docblock'><p>Indicates if the operator is strictly local to this worker.</p>

<p>A parent scope must understand whether the progress information returned by the worker
reflects only this worker&#39;s progress, so that it knows whether to send and receive the
corresponding progress messages to its peers. If the operator is strictly local, it must
exchange this information, whereas if the operator is itself implemented by the same set
of workers, the parent scope understands that progress information already reflects the
aggregate information among the workers.</p>

<p>This is a coarse approximation to refined worker sets. In a future better world, operators
would explain how their implementations are partitioned, so that a parent scope knows what
progress information to exchange with which peers. Right now the two choices are either
&quot;all&quot; or &quot;none&quot;, but it could be more detailed. In the more detailed case, this method
should / could return a pair (index, peers), indicating the group id of the worker out of
how many groups. This becomes complicated, as a full all-to-all exchange would result in
multiple copies of the same progress messages (but aggregated variously) arriving at
arbitrary times.</p>
</div><h3 id='method.get_internal_summary' class='method'><span id='get_internal_summary.v' class='invisible'><code>fn <a href='#method.get_internal_summary' class='fnname'>get_internal_summary</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../timely/progress/frontier/struct.Antichain.html" title="struct timely::progress::frontier::Antichain">Antichain</a>&lt;T::<a class="type" href="../../../timely/progress/timestamp/trait.Timestamp.html#associatedtype.Summary" title="type timely::progress::timestamp::Timestamp::Summary">Summary</a>&gt;&gt;&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../timely/progress/change_batch/struct.ChangeBatch.html" title="struct timely::progress::change_batch::ChangeBatch">ChangeBatch</a>&lt;T&gt;&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a></code></span></h3><div class='docblock'><p>Fetches summary information about internal structure of the operator.</p>

<p>Each operator must summarize its internal structure by a map from pairs <code>(input, output)</code>
to an antichain of timestamp summaries, indicating how a timestamp on any of its inputs may
be transformed to timestamps on any of its outputs.</p>

<p>Each operator must also indicate whether it initially holds any capabilities on any of its
outputs, so that the parent operator can properly initialize its progress information.</p>

<p>The default behavior is to indicate that timestamps on any input can emerge unchanged on
any output, and no initial capabilities are held.</p>
</div><h3 id='method.set_external_summary' class='method'><span id='set_external_summary.v' class='invisible'><code>fn <a href='#method.set_external_summary' class='fnname'>set_external_summary</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;_summaries: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../timely/progress/frontier/struct.Antichain.html" title="struct timely::progress::frontier::Antichain">Antichain</a>&lt;T::<a class="type" href="../../../timely/progress/timestamp/trait.Timestamp.html#associatedtype.Summary" title="type timely::progress::timestamp::Timestamp::Summary">Summary</a>&gt;&gt;&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;_frontier: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;mut [</a><a class="struct" href="../../../timely/progress/change_batch/struct.ChangeBatch.html" title="struct timely::progress::change_batch::ChangeBatch">ChangeBatch</a>&lt;T&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a><br>)</code></span></h3><div class='docblock'><p>Presents summary information about the external structure around the operator.</p>

<p>Each operator exists in the context of a parent scope, and the edges and other operators it
hosts represent paths messages may take from this operators outputs back to its inputs. For
an operator to correctly understand the implications of local progress statements, it must
understand how messages it produces may eventually return to its inputs.</p>

<p>The parent scope must also provide initial capabilities for each of the inputs, reflecting
work elsewhere in the timely computation. Note: it is not clear whether the parent must not
include capabilities expressed by the operator itself. It seems possible to exclude such
capabilities, if it would help the operator, but the operator should not yet rely on any
specific behavior.</p>
</div><h3 id='method.push_external_progress' class='method'><span id='push_external_progress.v' class='invisible'><code>fn <a href='#method.push_external_progress' class='fnname'>push_external_progress</a>(&amp;mut self, external: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;mut [</a><a class="struct" href="../../../timely/progress/change_batch/struct.ChangeBatch.html" title="struct timely::progress::change_batch::ChangeBatch">ChangeBatch</a>&lt;T&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>)</code></span></h3><div class='docblock'><p>Reports a summary of progress statements external to the operator and its peer group.</p>

<p>This report summarizes <em>all</em> of the external world, including updates issued by the operator
itself. This is important, and means that there is an ordering constraint that needs to be
enforced by the operator: before reporting any summarized progress to its parent, a child
must install the non-summarized parts (interal messages, capabilities) locally. Otherwise,
the child may learn about external &quot;progress&quot; corresponding to its own actions, and without
noting the consequences of those actions, will be in a bit of a pickle.</p>

<p>Note: Callee is expected to consume the contents of _external to indicate acknowledgement.</p>
</div><h3 id='method.notify_me' class='method'><span id='notify_me.v' class='invisible'><code>fn <a href='#method.notify_me' class='fnname'>notify_me</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span></h3><div class='docblock'><p>Indicates of whether the operator requires <code>push_external_progress</code> information or not.</p>
</div></div>
        <h2 id='implementors' class='small-section-header'>
          Implementors<a href='#implementors' class='anchor'></a>
        </h2>
        <ul class='item-list' id='implementors-list'>
    <li><div class='out-of-band'><a class='srclink' href='../../../src/timely/progress/nested/subgraph.rs.html#119-484' title='goto source code'>[src]</a></div><code>impl&lt;TOuter:&nbsp;<a class="trait" href="../../../timely/progress/timestamp/trait.Timestamp.html" title="trait timely::progress::timestamp::Timestamp">Timestamp</a>, TInner:&nbsp;<a class="trait" href="../../../timely/progress/timestamp/trait.Timestamp.html" title="trait timely::progress::timestamp::Timestamp">Timestamp</a>&gt; Operate&lt;TOuter&gt; for <a class="struct" href="../../../timely/progress/nested/subgraph/struct.Subgraph.html" title="struct timely::progress::nested::subgraph::Subgraph">Subgraph</a>&lt;TOuter, TInner&gt;</code></li>
</ul><script type="text/javascript" async
                         src="../../../implementors/timely/progress/operate/trait.Operate.js">
                 </script></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../../";
        window.currentCrate = "timely";
    </script>
    <script src="../../../main.js"></script>
    <script defer src="../../../search-index.js"></script>
</body>
</html>