<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `replay` mod in crate `timely`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, replay">

    <title>timely::dataflow::operators::capture::replay - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../../../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../../../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../../../../main.css">
    

    
    
</head>
<body class="rustdoc mod">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'>Module replay</p><div class="block items"><ul><li><a href="#traits">Traits</a></li></ul></div><p class='location'><a href='../../../../index.html'>timely</a>::<wbr><a href='../../../index.html'>dataflow</a>::<wbr><a href='../../index.html'>operators</a>::<wbr><a href='../index.html'>capture</a></p><script>window.sidebarCurrent = {name: 'replay', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Module <a href='../../../../index.html'>timely</a>::<wbr><a href='../../../index.html'>dataflow</a>::<wbr><a href='../../index.html'>operators</a>::<wbr><a href='../index.html'>capture</a>::<wbr><a class="mod" href=''>replay</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../../../../src/timely/dataflow/operators/capture/replay.rs.html#1-103' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p>Traits and types for replaying captured timely dataflow streams.</p>

<p>A type can be replayed into any timely dataflow scope if it presents as an
iterator whose <code>Item</code> type implements <code>EventIterator</code> with the same timestamp. 
Other types can implement the <code>ReplayInto</code> trait, but this should be done with
care, as there is a protocol the replayer follows that must be respected if the
computation is to make sense.</p>

<h1 id='protocol' class='section-header'><a href='#protocol'>Protocol</a></h1>
<p>The stream of events produced by each <code>EventIterator</code> implementation must satisfy, 
starting from a default timestamp of <code>Default::default()</code> with count 1,</p>

<ol>
<li>The progress messages may only increment the count for a timestamp if
the cumulative count for some prior or equal timestamp is positive.</li>
<li>The data messages map only use a timestamp if the cumulative count for 
some prior or equal timestamp is positive.</li>
</ol>

<p>Alternately, the sequence of events should, starting from an initial count of 1 
for the timestamp <code>Default::default()</code>, describe decrements to held capabilities
or the production of capabilities in their future, or messages sent at times in 
the future of held capabilities.</p>

<p>The order is very important here. One can move <code>Event::Message</code> events arbitrarily
earlier in the sequence, and <code>Event::Progress</code> events arbitrarily later, but one
cannot move a <code>Event::Progress</code> message that discards a last capability before any
<code>Event::Message</code> that would use that capability.</p>

<p>For an example, the <code>Operate&lt;T&gt;</code> implementation for <code>capture::CaptureOperator&lt;T, D, P&gt;</code>
records exactly what data is presented at the operator, both in terms of progress
messages and data received.</p>

<h1 id='notes' class='section-header'><a href='#notes'>Notes</a></h1>
<p>Provided no stream of events reports the consumption of capabilities it does not hold, 
any interleaving of the streams of events will still maintain the invariants above.
This means that each timely dataflow replay operator can replay any number of streams,
allowing the replay to occur in a timely dataflow computation with more or fewer workers
than that in which the stream was captured.</p>
</div><h2 id='traits' class='section-header'><a href="#traits">Traits</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class="trait" href="trait.Replay.html"
                                  title='trait timely::dataflow::operators::capture::replay::Replay'>Replay</a></td>
                           <td class='docblock-short'>
                                <p>Replay a capture stream into a scope with the same timestamp.</p>
                           </td>
                       </tr></table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../../../../";
        window.currentCrate = "timely";
    </script>
    <script src="../../../../../main.js"></script>
    <script defer src="../../../../../search-index.js"></script>
</body>
</html>